directories:
  output: binaries
  buildResources: build
appId: io.syncpoint.odin.v2
productName: "ODINv2"
copyright: ${author} https://syncpoint.io

asarUnpack: "**/*.node"

win:
  target:
    - target: nsis
      arch:
        - x64
  icon: 'build/icon.ico'
  certificateSha1 : '1a3e4e05664fb6620fea6845ca646601694c5b17'
nsis:
  perMachine: false
  oneClick: false

mac:
  target: default
  entitlements: 'build/entitlements.mac.plist'
  entitlementsInherit: 'build/entitlements.mac.plist'
  notarize:
    teamId: 4KRG6BGC37

linux:
  target:
    - target: AppImage
    - target: snap
    - target: flatpak
  icon: 'build/icons'
  category: 'Office'
  files:
    - 'dist'

snap:
  confinement: strict
  grade: stable
  summary: "Open Source Command and Control Information System"
  description: |
    ODIN is an Open Source Command and Control Information System (C2IS)
    for planning and conducting military or civilian operations.
  plugs:
    - default
    - removable-media

flatpak:
  runtime: org.freedesktop.Platform
  runtimeVersion: "24.08"
  sdk: org.freedesktop.Sdk
  finishArgs:
    - "--share=ipc"
    - "--socket=x11"
    - "--socket=wayland"
    - "--socket=pulseaudio"
    - "--share=network"
    - "--device=dri"
    - "--filesystem=home"

publish:
  - provider: github
    releaseType: release

electronVersion: 38.8.0
